@page "/stock"
@using GestorStock.BD.Data;
@using Microsoft.AspNetCore.Authorization;
@attribute [Authorize]
@using Modals

<PageTitle>Stock</PageTitle>

<html>

<head>

    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link href="/css/Styles/StockStyles.css?version=0.1" rel="stylesheet" type="text/css" />

</head>

<body class="align-content-center">

    <div class="insquare-header"> 


        <h2 class="stock">Stock</h2>

        <button type="button" class="btn btn-info botones"
                @onclick="() => OpenCargarDialog()">
            +
        </button>

    </div>

  <div class="insquare"> 
    <div class="table-responsive rounded-3">
            <table class="table table-striped table-hover table-bordered">
            <thead id="table-headers">
                <tr>
                    <th class="th-cod">Codigo</th>
                    <th>Nombre</th>
                    <th class="th-cant">Cantidad</th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>3F2</td>
                    <td>Tornillo (unidad)</td>
                    <td>6</td>
                    <td style="color:lawngreen">D</td>
                    <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                    <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                </tr>
                <tr>
                    <td> 3F2</td>
                    <td>Tornillo (unidad)</td>
                    <td>6</td>
                    <td style ="color:red">N</td>
                    <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                    <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                </tr>
                <tr>
                    <td>3F2 </td>
                    <td>Tornillo (unidad)</td>
                    <td>6</td>
                    <td style="color:lawngreen">D</td>
                    <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                    <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                </tr>
                <tr>
                    <td>3F2 </td>
                    <td>Tornillo (unidad)</td>
                    <td>6</td>
                    <td style="color:lawngreen">D</td>
                    <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                    <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                </tr>
                <tr>
                    <td>3F2 </td>
                    <td>Tornillo (unidad)</td>
                    <td>6</td>
                    <td style="color:lawngreen">D</td>
                    <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                    <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                </tr>
                <tr>
                    <td>3F2 </td>
                    <td>Tornillo (unidad)</td>
                    <td>6</td>
                    <td style="color:red">N</td>
                    <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                    <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                </tr>
                <tr>
                    <td>3F2 </td>
                    <td>Tornillo (unidad)</td>
                    <td>6 </td>
                    <td style="color:red">N</td>
                    <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                    <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                </tr>
                <tr>
                    <td>3F2 </td>
                    <td>Tornillo (unidad)</td>
                    <td>6 </td>
                    <td style="color:lawngreen">D</td>
                    <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                    <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                </tr>
                <tr>
                    <td>3F2 </td>
                    <td>Tornillo (unidad)</td>
                    <td>6 </td>
                    <td style="color:red">N</td>
                    <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                    <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                </tr>
            </tbody>
        </table>

        </div>

        @if (CargarStockOpen)
        {
            <GestorStock.Client.Pages.Modals.Stock.ModalCargar
                                                         OnClose="@OnCargarStockClose">
            </GestorStock.Client.Pages.Modals.Stock.ModalCargar>
        }

        @if (ModificarStockOpen)
        {
            <GestorStock.Client.Pages.Modals.Stock.ModalModificar
                                                           OnClose="@OnModificarStockClose">
            </GestorStock.Client.Pages.Modals.Stock.ModalModificar>
        }


    </div>

    <h2 class="text-center header">Todos los depositos</h2>

    <div class="insquare">
        <div class="table-responsive rounded-3">
            <table class="table table-striped table-hover table-bordered">
                <thead id="table-headers">
                    <tr>
                        <th>Codigo</th>
                        <th>Nombre</th>
                        <th>Cantidad</th>
                        <th></th>
                        <th>Deposito</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>3F2 </td>
                        <td>Tornillo (unidad)</td>
                        <td>6</td>
                        <td style="color:lawngreen">D</td>
                        <td>depo 2</td>
                        <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                        <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                    </tr>
                    <tr>
                        <td>3F2 </td>
                        <td>Tornillo (unidad)</td>
                        <td>6</td>
                        <td style="color:red">N</td>
                        <td>depo 2</td>
                        <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                        <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                    </tr>
                    <tr>
                        <td>3F2 </td>
                        <td>Tornillo (unidad)</td>
                        <td>6</td>
                        <td style="color:lawngreen">D</td>
                        <td>depo 2</td>
                        <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                        <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                    </tr>
                    <tr>
                        <td>3F2 </td>
                        <td>Tornillo (unidad)</td>
                        <td>6</td>
                        <td style="color:lawngreen">D</td>
                        <td>depo 2</td>
                        <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                        <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                    </tr>
                    <tr>
                        <td>3F2 </td>
                        <td>Tornillo (unidad)</td>
                        <td>6</td>
                        <td style="color:lawngreen">D</td>
                        <td>depo 2</td>
                        <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                        <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                    </tr>
                    <tr>
                        <td>3F2 </td>
                        <td>Tornillo (unidad)</td>
                        <td>6</td>
                        <td style="color:red">N</td>
                        <td>depo 2</td>
                        <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                        <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                    </tr>
                    <tr>
                        <td>3F2 </td>
                        <td>Tornillo (unidad)</td>
                        <td>6</td>
                        <td style="color:red">N</td>
                        <td>depo 2</td>
                        <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                        <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                    </tr>
                    <tr>
                        <td>3F2 </td>
                        <td>Tornillo (unidad)</td>
                        <td>6</td>
                        <td style="color:lawngreen">D</td>
                        <td>depo 2</td>
                        <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                        <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                    </tr>
                    <tr>
                        <td>3F2 </td>
                        <td>Tornillo (unidad)</td>
                        <td>6</td>
                        <td style="color:red">N</td>
                        <td>depo 2</td>
                        <td> <i class='bx bxs-edit-alt edit-button'></i> </td>
                        <td> <i class='bx bx-trash trash-button table-button'></i> </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>

@code {
   

    public bool CargarStockOpen { get; set; }

    public bool ModificarStockOpen { get; set; }

    private void OpenCargarDialog()
    {
        CargarStockOpen = true;
        StateHasChanged();
    }

    private async Task OnCargarStockClose(bool accepted)
    {
        CargarStockOpen = false;
        StateHasChanged();
    }

    private void OpenModificarDialog()
    {
        ModificarStockOpen = true;
        StateHasChanged();
    }

    private async Task OnModificarStockClose(bool accepted)
    {
        ModificarStockOpen = false;
        StateHasChanged();
    }

}
